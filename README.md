# CHACY APP üöÄ

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω: React (CRA ejected) + Express + PostgreSQL. –ì–æ—Ç–æ–≤ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: React 17 + Webpack 4 + Babel 7
- **–ë—ç–∫–µ–Ω–¥**: Express 4
- **–ë–î**: PostgreSQL + Massive.js + node-pg-migrate
- **Dev-—Å–µ—Ä–≤–µ—Ä—ã**: –∫–ª–∏–µ–Ω—Ç `:3000` ‚Üí –ø—Ä–æ–∫—Å–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä `:5000`

---

## ‚öôÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏/–∫–æ–Ω—Ñ–∏–≥–∏
- **Node.js**: 16.20.x (LTS). –ù–æ–≤–µ–µ 18 –º–æ–∂–µ—Ç –ª–æ–º–∞—Ç—å —Å–±–æ—Ä–∫—É Webpack 4 (OpenSSL).
- **npm**: 8.x
- **PostgreSQL**: 13+ (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
- **–ö–ª—é—á –ø–∞–∫–µ—Ç–æ–≤** (–∏–∑ `package.json`):
  - React 17.0.1, React DOM 17.0.1
  - Express 4.17.1
  - Webpack 4.44.2, webpack-dev-server 3.11.0
  - node-pg-migrate 5.9.0, pg 8.11.3
  - axios, passport, jsonwebtoken –∏ –¥—Ä.

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Node ‚©æ 17, –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è `setx NODE_OPTIONS "--openssl-legacy-provider"`.

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
config/           # Webpack, devServer, env, db, secrets
migrations/       # SQL-–º–æ–¥—É–ª–∏ node-pg-migrate
scripts/          # –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞/—Å–±–æ—Ä–∫–∏/–º–∏–≥—Ä–∞—Ü–∏–π/—Å–∏–¥–∏—Ä–æ–≤–∞–Ω–∏—è
src-client/       # –§—Ä–æ–Ω—Ç–µ–Ω–¥ (React)
src-server/       # –ë—ç–∫–µ–Ω–¥ (Express)
package.json
README.md
.env.example      # –û–±—Ä–∞–∑–µ—Ü –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

---

## ‚úÖ –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 16.20.x –∏ npm 8.x
  - Windows (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ): nvm-windows (`nvm install 16.20.2 && nvm use 16.20.2`)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PostgreSQL 13+ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ë–î

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```
DATABASE_URL=                             # (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø–æ–ª–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç DB_*
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=chacy
DB_ENABLE_SSL=
JWT_SECRET=please_change_me
PORT=5000                                 # –ø–æ—Ä—Ç –±—ç–∫–µ–Ω–¥–∞
```

–ë—ç–∫–µ–Ω–¥ —á–∏—Ç–∞–µ—Ç —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `config/db.js` –∏ `config/secrets.js`.

---

## ‚ñ∂Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (DEV)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - Windows PowerShell —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å `npm`.
     –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É –ø—Ä–æ ExecutionPolicy, –∑–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell –æ—Ç –ê–¥–º–∏–Ω–∞:
     - `Set-ExecutionPolicy -Scope CurrentUser RemoteSigned`
     - –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CMD: –æ—Ç–∫—Ä–æ–π—Ç–µ `cmd.exe` ‚Üí `cd D:\chacy-app` ‚Üí `npm ci`

   –ö–æ–º–∞–Ω–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
   - `npm ci`  (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –µ—Å—Ç—å `package-lock.json`)
   - –ª–∏–±–æ `npm install`

2. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ë–î
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `.env`
   - `npm run seed` (–≤—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∑–∞—Å–∏–¥–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)

3. –ó–∞–ø—É—Å–∫ –¥–µ–≤-—Å—Ä–µ–¥—ã (–∫–ª–∏–µ–Ω—Ç + —Å–µ—Ä–≤–µ—Ä) üü¢
   - `npm run dev`
   - –ö–ª–∏–µ–Ω—Ç: `http://localhost:3000` ‚Üí –ø—Ä–æ–∫—Å–∏ –Ω–∞ API `http://localhost:5000`

4. –ü—Ä–æ–¥–∞–∫—à–Ω-—Å–±–æ—Ä–∫–∞
   - `npm run build` (—Å–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ + –ª–∏–Ω—Ç)
   - `npm start` (–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ `:5000`)

---

## üìú –°–∫—Ä–∏–ø—Ç—ã
- **–û—Å–Ω–æ–≤–Ω—ã–µ**
  - `npm run start` ‚Äî —Å–µ—Ä–≤–µ—Ä –≤ prod-—Ä–µ–∂–∏–º–µ
  - `npm run build` ‚Äî —Å–±–æ—Ä–∫–∞ FE (–∏ –ª–∏–Ω—Ç BE)
  - `npm run lint` ‚Äî –ª–∏–Ω—Ç FE –∏ BE
  - `npm run seed` ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ + —Å–∏–¥—ã (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `user@test.com` / `password`)
  - `npm run dev` ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞
  - `npm run test:client` ‚Äî —Ç–µ—Å—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞ (Jest)
  - `npm run test:server` ‚Äî —Ç–µ—Å—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞ (Jest)

- **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ**
  - `npm run client:dev` ‚Äî Webpack dev server (–ø–æ—Ä—Ç 3000)
  - `npm run server:dev` ‚Äî Express —Å `nodemon` (–ø–æ—Ä—Ç 5000)
  - `npm run server:prod` ‚Äî –∑–∞–ø—É—Å–∫ –ø—Ä–æ–¥-—Å–µ—Ä–≤–µ—Ä–∞
  - `npm run db:migrate` ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (node-pg-migrate)
  - `npm run pg-migrate` ‚Äî –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ node-pg-migrate

---

## üîå API –∏ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—Å–º. `config/secrets.js` ‚Üí `JWT_SECRET`)
- –ë–∞–∑–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: `src-server/routes/*` –∏ `src-server/components/*`
- –ü—Ä–æ–∫—Å–∏: —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (`package.json` ‚Üí `proxy: http://localhost:5000`)

–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `user@test.com` / `password` ‚úÖ

---

## üß∞ Troubleshooting (Windows)
- ‚ùå PowerShell –∑–∞–ø—Ä–µ—â–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `npm.ps1`:
  - –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –æ—Ç –ê–¥–º–∏–Ω–∞ ‚Üí `Set-ExecutionPolicy -Scope CurrentUser RemoteSigned`
  - –õ–∏–±–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CMD –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–º–∞–Ω–¥ `npm`
- ‚ùå –û—à–∏–±–∫–∏ OpenSSL/webpack –Ω–∞ –Ω–æ–≤—ã—Ö Node:
  - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Node 16.20.x –∏–ª–∏
  - `setx NODE_OPTIONS "--openssl-legacy-provider"` (–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª)

---

## üì¶ –°—Ç–µ–∫ –∏ –≤–µ—Ä—Å–∏–∏ (—Å–Ω—è—Ç–æ –∏–∑ repo)
- React 17.0.1, react-router-dom 5.2.0
- Webpack 4.44.2, webpack-dev-server 3.11.0
- Babel 7, ESLint (airbnb)
- Express 4.17.1, Massive 6.6.1, pg 8.11.3, node-pg-migrate 5.9.0
